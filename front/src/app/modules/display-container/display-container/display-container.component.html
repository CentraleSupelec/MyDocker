<div *ngIf="container?.status === 'OK'; then thenBlock else elseBlock"></div>

<ng-template #thenBlock>
  <div class="display-container-port" fxLayoutGap="5px">
    <app-display-container-port
      *ngFor="let containerPort of container?.ports"
      [containerPort]="containerPort"
      [username]="container?.username"
      [ipAddress]="container?.ip"
      [shouldDisplay]="shouldDisplay(containerPort)"
    ></app-display-container-port>
    <app-display-custom-container-port
      *ngFor="let customDisplay of displayOptions?.customPortsDisplay"
      [customDisplay]="customDisplay"
      [password]="container?.password"
      [username]="container?.username"
      [containerPorts]="container?.ports"
      [ipAddress]="container?.ip"
    ></app-display-custom-container-port>
  </div>

  <div fxLayout="column">
    <mat-form-field
      appearance="outline"
      style="max-width: 500px;"
      *ngIf="displayUsername()"
    >
      <mat-label style="color: rgba(0, 0, 0, 0.87)">Username</mat-label>
      <input matInput disabled value="{{ container?.username }}">
      <button mat-icon-button matSuffix (click)="copyText(container?.username)">
        <mat-icon>content_copy</mat-icon>
      </button>
    </mat-form-field>

    <mat-form-field
      appearance="outline"
      style="max-width: 500px;"
      *ngIf="displayPassword()"
    >
      <mat-label style="color: rgba(0, 0, 0, 0.87)">Mot de passe</mat-label>
      <input matInput disabled value="{{ container?.password }}">
      <button mat-icon-button matSuffix (click)="copyText(container?.password)">
        <mat-icon>content_copy</mat-icon>
      </button>
    </mat-form-field>
  </div>
</ng-template>

<ng-template #elseBlock>
  <p>Le démarrage de votre environnement a échoué. Trois causes
    principales sont à envisager:
    <ul>
      <li>Le téléchargement vers myDocker de l'<strong>image
	docker<strong> (les logiciels) de l'environnement a pris trop
	de temps. Ce téléchargement est incrémental et mémorisé d'une
	fois sur l'autre. Vous pouvez réessayer quelques fois de
	relancer l'environnement en rechargeant cette page.
      <li>L'image docker est mal configurée. Nous vous recommandons
	alors de contacter les auteurs de l'environnement.
      <li>Tous les serveurs alloués à cette environnement sont
	actuellement utilisés. Vous pourrez réessayer ultérieurement.
    </ul>
  </p>
</ng-template>
